<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>삼성 헬스 데이터 변환기</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>삼성 헬스 데이터 변환기</h1>
        
        <div class="mode-selector">
            <button class="upload-mode active" onclick="setSingleMode()">단일 파일</button>
            <button class="upload-mode" onclick="setMultiMode()">다중 파일</button>
            <button class="upload-mode" onclick="setNestedMode()">중첩 파일</button>
        </div>

        <div id="singleMode" class="upload-area">
            <h2>단일 ZIP 파일 업로드</h2>
            <div class="upload-box">
                <input type="file" id="fileInput" accept=".zip" style="display: none;">
                <label for="fileInput" class="upload-label">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text">ZIP 파일을 선택하거나 여기에 드래그하세요</div>
                </label>
            </div>
        </div>

        <div id="multiMode" class="upload-area" style="display: none;">
            <h2>다중 ZIP 파일 업로드</h2>
            <div class="upload-box">
                <input type="file" id="multiFileInput" accept=".zip" multiple style="display: none;">
                <label for="multiFileInput" class="upload-label">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text">여러 ZIP 파일을 선택하거나 여기에 드래그하세요</div>
                </label>
            </div>
            <div id="selectedFiles" class="selected-files">
                <h3>선택된 파일</h3>
                <div id="fileList"></div>
            </div>
        </div>

        <div id="nestedMode" class="upload-area" style="display: none;">
            <h2>중첩 ZIP 파일 업로드</h2>
            <div class="upload-box">
                <input type="file" id="nestedFileInput" accept=".zip" style="display: none;">
                <label for="nestedFileInput" class="upload-label">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text">중첩된 ZIP 파일을 선택하거나 여기에 드래그하세요</div>
                </label>
            </div>
            <div id="nestedFileStructure" class="nested-structure" style="display: none;">
                <h3>파일 구조</h3>
                <div id="nestedFileList"></div>
            </div>
        </div>

        <div id="processingMode" class="processing-area" style="display: none;">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div id="progressText" class="progress-text">처리 시작...</div>
            </div>
        </div>

        <div id="status" class="status-container"></div>

        <div id="results" class="results-container" style="display: none;">
            <h2>처리 결과</h2>
            <div id="fileResults" class="file-results"></div>
            <div id="downloadSection" class="download-section" style="display: none;">
                <button id="bulkDownload" class="btn bulk-download-btn">모든 파일 다운로드</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>